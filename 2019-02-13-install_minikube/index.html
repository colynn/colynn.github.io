<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=author content="Colynn.Liu"><meta name=description content="Full-Stack DevOps, Be focused and Practical"><link rel=prev href=https://colynn.github.io/2019-01-02-shell-notes/><link rel=next href=https://colynn.github.io/2019-02-13-charles_capture_package/><link rel=canonical href=https://colynn.github.io/2019-02-13-install_minikube/><link rel=apple-touch-icon sizes=180x180 href=/img/home-icon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><title>安装 MiniKube | Colynn.Liu</title><meta name=title content="安装 MiniKube | Colynn.Liu"><link rel=stylesheet href=/font/iconfont.css><link rel=stylesheet href=/css/main.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/colynn.github.io\/"},"articleSection":"posts","name":"安装 MiniKube","headline":"安装 MiniKube","description":"前置条件 mac os 10.13.6 Virtual Box 确认环境需求 Minikube 要求在 BIOS 中启用 VT-x \/ AMD-v 虚拟化， 要检查这是否在OSX \/ macOS上运行，请执行以下操作： sysctl -a | grep machdep.cpu.features | grep VMX 如果有输","inLanguage":"zh-CN","author":"Colynn.Liu","creator":"Colynn.Liu","publisher":"Colynn.Liu","accountablePerson":"Colynn.Liu","copyrightHolder":"Colynn.Liu","copyrightYear":"2019","datePublished":"2019-02-13 00:00:00 \u002b0000 UTC","dateModified":"2019-02-13 00:00:00 \u002b0000 UTC","url":"https:\/\/colynn.github.io\/2019-02-13-install_minikube\/","wordCount":"450","keywords":["kubernetes","Colynn.Liu"]}</script></head><body><div class=wrapper><nav class=navbar><div class=container><div class="navbar-header header-logo"><a href=https://colynn.github.io/>Colynn.Liu</a></div><div class="menu navbar-right"><a class=menu-item href=/posts/>文章</a>
<a class=menu-item href=/categories/>分类</a>
<a class=menu-item href=/tags/>标签</a>
<a class=menu-item href=/readings/>书单</a>
<a class=menu-item href=/aboutme/>关于我</a></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><div class=container><div class=navbar-header><div><a href=https://colynn.github.io/>Colynn.Liu</a></div><div class=menu-toggle><span></span><span></span><span></span></div></div><div class=menu id=mobile-menu><a class=menu-item href=/posts/>文章</a>
<a class=menu-item href=/categories/>分类</a>
<a class=menu-item href=/tags/>标签</a>
<a class=menu-item href=/readings/>书单</a>
<a class=menu-item href=/aboutme/>关于我</a></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">安装 MiniKube</h1><div class=post-meta>Written by <a itemprop=name href=https://colynn.github.io/ rel=author>Colynn.Liu</a> with ♥
<span class=post-time>on <time datetime=2019-02-13 itemprop=datePublished>February 13, 2019</time></span>
<span class=post-time>- last modified on <time datetime=2019-02-13 itemprop=datePublished>February 13, 2019</time></span></div><div class=post-tags><section><span class=tag><a href=https://colynn.github.io/tags/kubernetes/><i class="iconfont icon-tag"></i>kubernetes</a></span></section><section><i class="iconfont icon-folder"></i><span class=post-category><a href=https://colynn.github.io/categories/%E6%95%99%E7%A8%8B/>教程</a></span></section></div></header><div class=post-content><h3 id=前置条件>前置条件</h3><ul><li>mac os 10.13.6</li><li>Virtual Box</li></ul><h4 id=确认环境需求>确认环境需求</h4><p>Minikube 要求在 BIOS 中启用 VT-x / AMD-v 虚拟化， 要检查这是否在OSX / macOS上运行，请执行以下操作：</p><pre><code>sysctl -a | grep machdep.cpu.features | grep VMX
</code></pre><p>如果有输出，那你很棒棒！</p><h4 id=配置brew-镜像源>配置Brew 镜像源</h4><pre><code>cd &quot;$(brew --repo)&quot;
git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git

cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;
git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git
</code></pre><h3 id=相关软件安装>相关软件安装</h3><ul><li>kubectl</li><li>docker (for Mac)</li><li>minikube</li><li>virtualbox</li></ul><ol><li>安装kubectl</li></ol><pre><code>$ brew update &amp;&amp; brew install kubectl
</code></pre><ol start=2><li>minikube(可以直接通过brew来安装)</li></ol><pre><code>curl -Lo minikube http://kubernetes.oss-cn-hangzhou.aliyuncs.com/minikube/releases/v0.30.0/minikube-darwin-amd64 &amp;&amp; chmod +x minikube &amp;&amp; sudo mv minikube /usr/local/bin/
</code></pre><p><em>注：</em> 可以从这里获得更多的版本选择 <a href=https://github.com/kubernetes/minikube/releases>kuernetes minikube releases</a></p><ol start=3><li>docker/virtualbox 是通过直接在相应官网下载镜像的方式来安装的.
另外推荐你也可以尝试如下命令，直接通过brew安装。</li></ol><pre><code>$ brew cask install docker minikube virtualbox
</code></pre><h3 id=开始>开始</h3><h4 id=1-启动kubernetes-集群>1. 启动kubernetes 集群</h4><pre><code>$ minikube start
</code></pre><p>命令的输出日志大概如下：</p><pre><code>Starting local Kubernetes v1.10.0 cluster...
Starting VM...
Downloading Minikube ISO
 170.78 MB / 170.78 MB [============================================] 100.00% 0s
Getting VM IP address...
Moving files into cluster...
Downloading kubeadm v1.10.0
Downloading kubelet v1.10.0
Finished Downloading kubelet v1.10.0
Finished Downloading kubeadm v1.10.0
Setting up certs...
Connecting to cluster...
Setting up kubeconfig...
Starting cluster components...
Kubectl is now configured to use the cluster.
Loading cached images from config file.
</code></pre><p>恭喜！Minikube 为你启动了一个虚拟机，并在该虚拟机中运行了 Kubernetes 集群。</p><h4 id=2-查看集群节点信息>2. 查看集群节点信息</h4><pre><code>$ kubectl get nodes
NAME       STATUS   ROLES    AGE   VERSION
minikube   Ready    master   17m   v1.10.0
</code></pre><h3 id=附录>附录</h3><ol><li>阿里云镜像仓库</li></ol><pre><code>cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=0
repo_gpgcheck=0
gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg http://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg
EOF
</code></pre><h3 id=参考>参考</h3><ol><li>Minikube - Kubernetes本地实验环境 <a href=https://yq.aliyun.com/articles/221687>https://yq.aliyun.com/articles/221687</a></li><li>Kubernetes 环境搭建 - MacOS <a href=https://www.jianshu.com/p/74957f08646b>https://www.jianshu.com/p/74957f08646b</a></li></ol></div><div class=post-copyright><p class=copyright-item><span>Author:</span>
<span>Colynn.Liu</span></p><p class=copyright-item><span>Link:</span>
<a href=https://colynn.github.io/2019-02-13-install_minikube/>https://colynn.github.io/2019-02-13-install_minikube/</span></p><p class="copyright-item lincese">本文采用<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank>知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p></div><div class=post-tags><section><i class="iconfont icon-tag"></i>Tag(s):
<span class=tag><a href=https://colynn.github.io/tags/kubernetes/>#kubernetes</a></span></section><section><a href=javascript:window.history.back();>back</a></span> ·
<span><a href=https://colynn.github.io/>home</a></span></section></div><div class=post-nav><a href=https://colynn.github.io/2019-01-02-shell-notes/ class=prev rel=prev title=Shell命令备注手册><i class="iconfont icon-left"></i>&nbsp;Shell命令备注手册</a>
<a href=https://colynn.github.io/2019-02-13-charles_capture_package/ class=next rel=next title="Charles 抓包（http/https）">Charles 抓包（http/https）&nbsp;<i class="iconfont icon-right"></i></a></div><div class=post-comment><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script><script>const gitalk=new Gitalk({clientID:'7196948b9a586a342072',clientSecret:"1acf6a13bc1ce7b8d8e3554789781ba2aaa4575c",repo:"blog-comments",owner:"colynn",admin:"colynn",id:"/2019-02-13-install_minikube/",distractionFreeMode:false,perPage:100});gitalk.render('gitalk-container')</script></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2018 - 2021</span>
<span class=with-love><i class="iconfont icon-love"></i></span><span class=author itemprop=copyrightHolder><a href=https://colynn.github.io/>Colynn.Liu</a> |</span>
<span><a href=https://colynn.github.io/friends>友情链接</a></span></div></footer><script src=/js/vendor_no_gallery.min.js async></script></div></body></html>