<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=author content="Colynn.Liu"><link rel=prev href=https://colynn.github.io/2019-09-15-kubespray-deploy-k8s/><link rel=next href=https://colynn.github.io/2019-10-22-kubernetes-ci-cd/><link rel=canonical href=https://colynn.github.io/2019-09-26-vscode_env_setting/><link rel=apple-touch-icon sizes=180x180 href=/img/favicon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><title>VSCode 开发环境设置 | Colynn.Liu</title><meta name=title content="VSCode 开发环境设置 | Colynn.Liu"><link rel=stylesheet href=/font/iconfont.css><link rel=stylesheet href=/css/main.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/colynn.github.io\/"},"articleSection":"posts","name":"VSCode 开发环境设置","headline":"VSCode 开发环境设置","description":"运行环境 Mac OS 10.13.6 VS code 1.31.1 快捷键 解读 General Command \u002b Shift \u002b p, F1 显示命令面板 Command \u002b p 快速打开 Command \u002b Shite \u002b N 新建vscode 窗口 Integrated Terminal Ctrl \u002b ` 显示或隐藏集成终端； Ctrl \u002b Shift \u002b `","inLanguage":"zh-CN","author":"Colynn.Liu","creator":"Colynn.Liu","publisher":"Colynn.Liu","accountablePerson":"Colynn.Liu","copyrightHolder":"Colynn.Liu","copyrightYear":"2019","datePublished":"2019-09-26 00:00:00 \u002b0000 UTC","dateModified":"2019-09-26 00:00:00 \u002b0000 UTC","url":"https:\/\/colynn.github.io\/2019-09-26-vscode_env_setting\/","wordCount":"1239","keywords":["python","go","tools","Colynn.Liu"]}</script></head><body><div class=wrapper><nav class=navbar><div class=container><div class="navbar-header header-logo"><a href=https://colynn.github.io/>Colynn.Liu</a></div><div class="menu navbar-right"><a class=menu-item href=/posts/>文章</a>
<a class=menu-item href=/categories/>分类</a>
<a class=menu-item href=/tags/>标签</a>
<a class=menu-item href=/aboutme/>关于我</a></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><div class=container><div class=navbar-header><div><a href=https://colynn.github.io/>Colynn.Liu</a></div><div class=menu-toggle><span></span><span></span><span></span></div></div><div class=menu id=mobile-menu><a class=menu-item href=/posts/>文章</a>
<a class=menu-item href=/categories/>分类</a>
<a class=menu-item href=/tags/>标签</a>
<a class=menu-item href=/aboutme/>关于我</a></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">VSCode 开发环境设置</h1><div class=post-meta>Written by <a itemprop=name href=https://colynn.github.io/ rel=author>Colynn.Liu</a> with ♥
<span class=post-time>on <time datetime=2019-09-26 itemprop=datePublished>September 26, 2019</time></span>
<span class=post-time>- last modified <time datetime=2019-09-26 itemprop=datePublished>September 26, 2019</time></span></div><div class=post-tags><section><span class=tag><a href=https://colynn.github.io/tags/python/><i class="iconfont icon-tag"></i>python</a></span>
<span class=tag><a href=https://colynn.github.io/tags/go/><i class="iconfont icon-tag"></i>go</a></span>
<span class=tag><a href=https://colynn.github.io/tags/tools/><i class="iconfont icon-tag"></i>tools</a></span></section><section><i class="iconfont icon-folder"></i><span class=post-category><a href=https://colynn.github.io/categories/%E6%95%99%E7%A8%8B/>教程</a></span></section></div></header><div class=post-content><h1 id=运行环境>运行环境</h1><ul><li>Mac OS 10.13.6</li><li>VS code 1.31.1</li></ul><h1 id=快捷键>快捷键</h1><p><img src=https://user-images.githubusercontent.com/5203608/89495603-34b84780-d7eb-11ea-94b5-d48d3480b679.png alt=image></p><h2 id=解读>解读</h2><ol><li><p>General</p><ul><li>Command + Shift + p, F1 显示命令面板</li><li>Command + p 快速打开</li><li>Command + Shite + N 新建vscode 窗口</li></ul></li><li><p>Integrated Terminal</p><ul><li>Ctrl + ` 显示或隐藏集成终端；</li><li>Ctrl + Shift + ` 新建终端；</li></ul></li><li><p>navigation</p></li></ol><p><img src=https://user-images.githubusercontent.com/5203608/89495608-384bce80-d7eb-11ea-9b99-f1128c223182.png alt=image></p><h1 id=常用设置>常用设置</h1><h2 id=1-隐藏pyc文件>1. 隐藏.pyc文件</h2><ul><li>调整Workspace Settings添加如下图，</li></ul><p><img src=https://user-images.githubusercontent.com/5203608/89495618-3bdf5580-d7eb-11ea-81bf-21e2b49b2bb4.png alt=image></p><p><strong>设置路径</strong>：Code -> Preferences -> Settings -> Workspace Settings, Search Settings</p><h2 id=2-配置markdown-pdf-插件>2. 配置markdown-pdf 插件</h2><ul><li><p>安装说明:</p><p>Chromium download starts automatically when Markdown PDF is installed and Markdown file is first opened with Visutal Studio Code.</p><p>However, it is time-consuming depending on the environment because of its large size (~ 170Mb Mac, ~ 282Mb Linux, ~ 280Mb Win).</p><p>During downloading, the message Installing Chromium is displayed in the status bar.</p><p>If you are behind a proxy, set the http.proxy option to settings.json and restart Visual Studio Code.</p><p>If the download is not successful or you want to avoid downloading every time you upgrade Markdown PDF, please specify the installed Chrome or &lsquo;Chromium&rsquo; with markdown-pdf.executablePath option.</p></li><li><p>设置 markdown-pdf.executablePath</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=background-color:#fff0f0>&#34;markdown-pdf.executablePath&#34;</span><span style=color:#333>:</span> <span style=background-color:#fff0f0>&#34;/Applications/Google Chrome.app/Contents/MacOS/Google Chrome&#34;</span>,
</code></pre></div></li><li><p>保存后，重启vscode 即可。</p></li><li><p>如何使用自定义css</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#888>// 路径和css文件名以你的文件为准
</span><span style=color:#888></span><span style=background-color:#fff0f0>&#34;markdown-pdf.styles&#34;</span><span style=color:#333>:</span> [<span style=background-color:#fff0f0>&#34;/.markdown/github.css&#34;</span>],
</code></pre></div><p>自定义样式参考：http://markedstyle.com/styles</p><p><strong>设置路径</strong>：Code -> Preferences -> Settings</p></li></ul><h2 id=3-配置golang-环境>3. 配置golang 环境</h2><h3 id=1-deprecated安装go相关插件>1. [Deprecated]安装Go相关插件</h3><p><strong>注意</strong>: 请先设置 <code>GOPROXY</code></p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#007020>export</span> <span style=color:#963>GOPROXY</span><span style=color:#333>=</span>https://goproxy.io
</code></pre></div><p>推荐安装的插件包如下：
To install the tools manually in the current <code>$GOPATH</code>, just copy the below (after choosing the tools) in your terminal run:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>go get -u -v github.com/ramya-rao-a/go-outline
go get -u -v github.com/acroca/go-symbols
go get -u -v github.com/mdempsky/gocode
go get -u -v github.com/rogpeppe/godef
go get -u -v golang.org/x/tools/cmd/godoc
go get -u -v github.com/zmb3/gogetdoc
go get -u -v golang.org/x/lint/golint
go get -u -v github.com/fatih/gomodifytags
go get -u -v golang.org/x/tools/cmd/gorename
go get -u -v sourcegraph.com/sqs/goreturns
go get -u -v golang.org/x/tools/cmd/goimports
go get -u -v github.com/cweill/gotests/...
go get -u -v golang.org/x/tools/cmd/guru
go get -u -v github.com/josharian/impl
go get -u -v github.com/haya14busa/goplay/cmd/goplay
go get -u -v github.com/uudashr/gopkgs/cmd/gopkgs
go get -u -v github.com/davidrjenni/reftools/cmd/fillstruct
go get -u -v github.com/alecthomas/gometalinter
gometalinter --install
</code></pre></div><p><strong>注</strong>: 你可以直接配置使用 <a href=https://github.com/golang/vscode-go#support-for-go-modules><code>gopls</code></a>, 并且强烈推荐使用。</p><h3 id=2-配置vs-code-的-settingsjson>2. 配置VS code 的 settings.json</h3><ul><li>相关go的配置如下：</li></ul><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=background-color:#fff0f0>&#34;go.useLanguageServer&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>true</span>, <span style=color:#888>//using language server
</span><span style=color:#888></span><span style=background-color:#fff0f0>&#34;go.autocompleteUnimportedPackages&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>true</span>,
<span style=background-color:#fff0f0>&#34;go.inferGopath&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>true</span>,
<span style=background-color:#fff0f0>&#34;go.docsTool&#34;</span><span style=color:#333>:</span> <span style=background-color:#fff0f0>&#34;godoc&#34;</span>,
<span style=background-color:#fff0f0>&#34;go.gocodePackageLookupMode&#34;</span><span style=color:#333>:</span> <span style=background-color:#fff0f0>&#34;go&#34;</span>,
<span style=background-color:#fff0f0>&#34;go.gotoSymbol.includeImports&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>true</span>,
<span style=background-color:#fff0f0>&#34;go.useCodeSnippetsOnFunctionSuggest&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>false</span>, <span style=color:#888>//使用代码片段提示
</span><span style=color:#888></span><span style=background-color:#fff0f0>&#34;go.useCodeSnippetsOnFunctionSuggestWithoutType&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>true</span>,
<span style=background-color:#fff0f0>&#34;go.formatTool&#34;</span><span style=color:#333>:</span> <span style=background-color:#fff0f0>&#34;goimports&#34;</span>,  <span style=color:#888>// 代码格式化
</span><span style=color:#888></span><span style=background-color:#fff0f0>&#34;go.buildOnSave&#34;</span><span style=color:#333>:</span> <span style=background-color:#fff0f0>&#34;off&#34;</span>, <span style=color:#888>//保存代码时自动编译
</span><span style=color:#888></span><span style=background-color:#fff0f0>&#34;go.lintOnSave&#34;</span><span style=color:#333>:</span> <span style=background-color:#fff0f0>&#34;file&#34;</span>, <span style=color:#888>//保存代码时优化
</span><span style=color:#888></span><span style=background-color:#fff0f0>&#34;go.vetOnSave&#34;</span><span style=color:#333>:</span> <span style=background-color:#fff0f0>&#34;package&#34;</span>, <span style=color:#888>//保存代码时检查潜在错误
</span><span style=color:#888></span><span style=background-color:#fff0f0>&#34;go.coverOnSave&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>false</span> <span style=color:#888>//保存代码时执行测试
</span><span style=color:#888></span>
</code></pre></div><p><strong>NOTE</strong>: If you are using Go modules, then we strongly recommend using the Go language server as it performs much better than the tools below.</p><p><a href=https://github.com/Microsoft/vscode-go/wiki/Go-tools-that-the-Go-extension-depends-on>Refer to: Go tools that the Go extension depends on</a></p><h3 id=3-reload-vs-code-then-enjoy-it>3. reload VS code, then enjoy it.</h3><h2 id=4-vscode-golint-代码规范解读>4. vscode golint 代码规范解读</h2><h3 id=警告1>警告1</h3><ul><li>描述：exported function xxx should have comment or be unexported</li><li>环境：</li></ul><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#333>=</span>&gt; ~$ go version
go version go1.12.1 darwin/amd64
<span style=color:#333>=</span>&gt; ~$ gopls version
version v0.1.3-cmd.gopls, built in <span style=color:#963>$GOPATH</span> mode
</code></pre></div><ul><li>解决：</li></ul><p>Comment SentencesSee <a href=https://golang.org/doc/effective_go.html#commentary>https://golang.org/doc/effective_go.html#commentary</a>. Comments documenting declarations should be full sentences, even if that seems a little redundant. This approach makes them format well when extracted into godoc documentation. Comments should begin with the name of the thing being described and end in a period:</p><p>记录声明的注释应该是完整的句子，即使这看起来有点多余。这种方法使它们在提取到 godoc 文档时格式良好。注释应以所述物品的名称开始，并以句号结束:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>// Request represents a request to run a command.
<span style=color:#007020>type</span> Request struct <span style=color:#333>{</span> ...
// Encode writes the JSON encoding of req to w.
func Encode<span style=color:#333>(</span>w io.Writer, req *Request<span style=color:#333>)</span> <span style=color:#333>{</span> ...
</code></pre></div><h3 id=示例警告>示例警告</h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>recorder.go:55:5: exported var RecordBind should have comment or be unexported
recorder.go:158:1: exported <span style=color:#080;font-weight:700>function</span> Record_ErrorRecord should have comment or be unexported
recorder.go:173:6: don<span style=color:red;background-color:#faa>&#39;</span>t use underscores in Go names; <span style=color:#007020>type</span> Data_MemStats should be DataMemStats
recorder.go:179:2: struct field FreeRam should be FreeRAM
</code></pre></div><p>golint 会检测的方面：</p><ul><li>变量名规范</li><li>变量的声明，像<code>var str string = "test"</code>，会有警告，应该<code>var str = "test"</code></li><li>大小写问题，大写导出包的要有注释</li><li>x += 1 应该 x++</li></ul><h2 id=5-go-tool-to-modify-struct-field-tags-faster>5. Go tool to modify struct field tags faster</h2><h3 id=how-to-use>how to use</h3><ol><li>add tags</li></ol><p>在对应的文件下，打开命令面板（Command + Shift + p）执行 <code>Go: Add Tags</code> 即可添加json field;</p><ol start=2><li>remove tags</li></ol><p>在对应的文件下，打开命令面板（Command + Shift + p）执行 <code>Go: Remove Tags</code> 即可添加json field</p><p><a href=https://github.com/fatih/gomodifytags>github gomodifytags</a></p><h2 id=6-配置python-环境>6. 配置python 环境</h2><h3 id=python项目的-settingjson的示例文件>python项目的 <code>setting.json</code>的示例文件</h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>{
    <span style=background-color:#fff0f0>&#34;python.pythonPath&#34;</span><span style=color:#333>:</span> <span style=background-color:#fff0f0>&#34;venv/bin/python3&#34;</span>,

    <span style=color:#888>// Formatting doesn&#39;t affect the functionality of the code itself. 
</span><span style=color:#888></span>    <span style=background-color:#fff0f0>&#34;python.formatting.provider&#34;</span><span style=color:#333>:</span> <span style=background-color:#fff0f0>&#34;autopep8&#34;</span>,
    <span style=background-color:#fff0f0>&#34;python.formatting.autopep8Args&#34;</span><span style=color:#333>:</span> [<span style=background-color:#fff0f0>&#34;--max-line-length&#34;</span>, <span style=background-color:#fff0f0>&#34;120&#34;</span>, <span style=background-color:#fff0f0>&#34;--experimental&#34;</span>],

    <span style=color:#888>// Linting, on the other hand, analyzes code for common syntactical, stylistic, and functional errors as well as unconventional programming practices that can lead to errors.
</span><span style=color:#888></span>    <span style=background-color:#fff0f0>&#34;python.linting.pylintEnabled&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>true</span>,
    <span style=background-color:#fff0f0>&#34;python.linting.pylintArgs&#34;</span><span style=color:#333>:</span> [<span style=background-color:#fff0f0>&#34;--load-plugins&#34;</span>, <span style=background-color:#fff0f0>&#34;pylint_django&#34;</span>],

    <span style=color:#888>// https://pycodestyle.pycqa.org/en/latest/intro.html#configuration
</span><span style=color:#888></span>    <span style=background-color:#fff0f0>&#34;python.linting.pycodestyleEnabled&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>true</span>,
    <span style=background-color:#fff0f0>&#34;python.linting.pycodestyleArgs&#34;</span><span style=color:#333>:</span> [<span style=background-color:#fff0f0>&#34;--ignore=E501&#34;</span>],

    <span style=background-color:#fff0f0>&#34;python.testing.pytestArgs&#34;</span><span style=color:#333>:</span> [
        <span style=background-color:#fff0f0>&#34;venv&#34;</span>
    ],
    <span style=background-color:#fff0f0>&#34;python.testing.unittestEnabled&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>false</span>,
    <span style=background-color:#fff0f0>&#34;python.testing.nosetestsEnabled&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>false</span>,
    <span style=background-color:#fff0f0>&#34;python.testing.pytestEnabled&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>true</span>,
    <span style=background-color:#fff0f0>&#34;editor.formatOnSave&#34;</span><span style=color:#333>:</span> <span style=color:#080;font-weight:700>true</span>
}

</code></pre></div><h3 id=推荐插件>推荐插件</h3><ul><li><p><a href=https://github.com/NilsJPWerner/autoDocstring>Python Docstring Generator</a></p></li><li><p><a href=https://github.com/DonJayamanne/python-extension-pack>Python Extension Pack</a></p></li><li><p><a href=https://github.com/almenon/arepl-vscode.git>AREPL for python</a></p></li><li><p><a href=https://github.com/kondratyev-nv/vscode-python-test-adapter.git>Python Test Explore</a></p></li></ul><p><em>注</em>：Refer to: <a href=https://code.visualstudio.com/docs/python/editing#_formatting>https://code.visualstudio.com/docs/python/editing#_formatting</a></p></div><div class=post-copyright><p class=copyright-item><span>Author:</span>
<span>Colynn.Liu</span></p><p class=copyright-item><span>Link:</span>
<a href=https://colynn.github.io/2019-09-26-vscode_env_setting/>https://colynn.github.io/2019-09-26-vscode_env_setting/</span></p><p class="copyright-item lincese">本文采用<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank>知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p></div><div class=post-tags><section><i class="iconfont icon-tag"></i>Tag(s):
<span class=tag><a href=https://colynn.github.io/tags/python/>#python</a></span>
<span class=tag><a href=https://colynn.github.io/tags/go/>#go</a></span>
<span class=tag><a href=https://colynn.github.io/tags/tools/>#tools</a></span></section><section><a href=javascript:window.history.back();>back</a></span> ·
<span><a href=https://colynn.github.io/>home</a></span></section></div><div class=post-nav><a href=https://colynn.github.io/2019-09-15-kubespray-deploy-k8s/ class=prev rel=prev title="Kubespary 部署 Kubernetes 1.5.3 版本"><i class="iconfont icon-left"></i>&nbsp;Kubespary 部署 Kubernetes 1.5.3 版本</a>
<a href=https://colynn.github.io/2019-10-22-kubernetes-ci-cd/ class=next rel=next title="Kubernetes CI/CD 基于开源组件的实践">Kubernetes CI/CD 基于开源组件的实践&nbsp;<i class="iconfont icon-right"></i></a></div><div class=post-comment><script src=https://utteranc.es/client.js repo=colynn/blog-comments issue-term=pathname label=utterances theme=github-light crossorigin=anonymous async></script></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2018 - 2020</span>
<span class=with-love><i class="iconfont icon-love"></i></span><span class=author itemprop=copyrightHolder><a href=https://colynn.github.io/>Colynn.Liu</a> |</span>
<span><a href=https://colynn.github.io/friends>友情链接</a></span></div></footer><link href=//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css rel=stylesheet><script src=/js/vendor_gallery.min.js async></script></div></body></html>